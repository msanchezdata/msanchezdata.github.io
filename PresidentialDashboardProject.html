<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>US Presidential Election Results (1976 - 2020)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="PresidentialDashboardProject_files/libs/clipboard/clipboard.min.js"></script>
<script src="PresidentialDashboardProject_files/libs/quarto-html/quarto.js"></script>
<script src="PresidentialDashboardProject_files/libs/quarto-html/popper.min.js"></script>
<script src="PresidentialDashboardProject_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="PresidentialDashboardProject_files/libs/quarto-html/anchor.min.js"></script>
<link href="PresidentialDashboardProject_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="PresidentialDashboardProject_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="PresidentialDashboardProject_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="PresidentialDashboardProject_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="PresidentialDashboardProject_files/libs/bootstrap/bootstrap-8a79a254b8e706d3c925cde0a310d4f0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="PresidentialDashboardProject_files/libs/ionrangeslider-javascript-2.3.1/js/ion.rangeSlider.min.js"></script>

<script src="PresidentialDashboardProject_files/libs/strftime-0.9.2/strftime-min.js"></script>

<link href="PresidentialDashboardProject_files/libs/ionrangeslider-css-2.3.1/css/ion.rangeSlider.css" rel="stylesheet">

<link href="PresidentialDashboardProject_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="PresidentialDashboardProject_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="PresidentialDashboardProject_files/libs/plotly-binding-4.10.4/plotly.js"></script>

<link href="PresidentialDashboardProject_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="PresidentialDashboardProject_files/libs/datatables-binding-0.32/datatables.js"></script>

<script src="PresidentialDashboardProject_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="PresidentialDashboardProject_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="PresidentialDashboardProject_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="PresidentialDashboardProject_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="PresidentialDashboardProject_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="PresidentialDashboardProject_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">US Presidential Election Results (1976 - 2020)</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="dashboard" class="level2 tabset tabset-pills nav-stacked">
<h2 class="tabset tabset-pills nav-stacked anchored" data-anchor-id="dashboard">Dashboard</h2>
<section id="general-interactive-map" class="level3">
<h3 class="anchored" data-anchor-id="general-interactive-map">General Interactive Map</h3>
<div class="panel-grid layout-sidebar ms-md-0 layout-sidebar-left">
<div class="cell panel-sidebar card bg-light p-2 g-col-24 g-col-lg-7">
<div class="cell-output-display">
<div class="form-group shiny-input-container">
<label class="control-label" id="year-label" for="year">Select Election Year:</label>
<input class="js-range-slider" id="year" data-skin="shiny" data-min="1976" data-max="2020" data-from="2020" data-step="4" data-grid="true" data-grid-num="5.5" data-grid-snap="false" data-prettify-separator="" data-prettify-enabled="false" data-keyboard="true" data-data-type="number">
</div>
</div>
</div>
<div class="panel-fill g-col-24 g-col-lg-17 pt-3 pt-lg-0">
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-widget-output shiny-report-size shiny-report-theme html-fill-item" id="out337be5efa729725e" style="width:100%;height:400px;"></div>
</div>
</div>
<p>This interactive map visualizes U.S. presidential election outcomes from 1976 to 2020. Use the slider to select a year and view which party won each state. Color intensity indicates the margin of victory: darker shades represent decisive wins, while lighter shades highlight more competitive races. Hover over states for vote counts, margins, and party breakdowns.</p>
<p><em>States are shaded by party and competitiveness — darker = larger margin, lighter = tighter race. Use the slider to explore results year by year.</em></p>
</div>
</div>
</section>
<section id="bellwether-states-analysis" class="level3">
<h3 class="anchored" data-anchor-id="bellwether-states-analysis">Bellwether States Analysis</h3>
<p><br> First, we are going to have to determine who won the Presidential Election every year from 1976 to 2020. This is only 12 elections, so there are minimal amounts of joins. <br></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-ce46575601207b75311f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ce46575601207b75311f">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612"],[1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1976,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1980,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1984,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1988,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,1996,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020],["ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING","ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING","ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING","ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING","ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING","ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING","ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING","ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING","ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING","ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING","ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING","ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT OF COLUMBIA","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","NEW JERSEY","NEW MEXICO","NEW YORK","NORTH CAROLINA","NORTH DAKOTA","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","SOUTH CAROLINA","SOUTH DAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","WISCONSIN","WYOMING"],["DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","DEMOCRAT","REPUBLICAN"],[659170,71555,418642,498604,3882244,584278,719261,122461,137818,1636000,979409,147375,204151,2364269,1183958,632864,502752,615717,661365,236320,759612,1429475,1893742,1070440,381329,998387,173703,359219,101273,185935,1509688,211419,3244165,927365,153684,2009959,545708,492120,2328677,227636,450807,151505,825879,2082319,337908,100387,836554,777732,435864,1040232,92717,654192,86112,529688,403164,4522994,652264,677210,111252,130231,2046951,890955,135879,290699,2358049,1255656,676026,566812,635274,792853,238522,726161,1057631,1915225,954173,441089,1074181,206814,419214,155017,221705,1546557,250779,2728372,915018,193695,2206545,695570,571044,2261872,198342,439277,198343,787761,2510705,439687,94628,989609,865244,367462,1088845,110700,872849,138377,681416,534774,5467009,821817,890877,152190,180408,2730350,1068722,185050,297523,2707103,1377230,703088,677296,821702,1037299,336500,879918,1310936,2251571,1036364,582377,1274188,232450,460054,188770,267050,1933630,307101,3376519,1346481,200336,2678559,861530,685700,2584323,212080,615539,200267,990212,3433428,469105,135865,1337078,1051670,405483,1198584,133241,815576,119251,702541,466578,5054917,728177,750241,139639,159407,2618885,1081331,192364,253881,2310939,1297763,670557,554049,734281,883702,307131,876167,1401415,1965486,1109471,557890,1084953,190412,397956,206040,281537,1743192,270341,3255487,1237258,166559,2416549,678367,616206,2300087,225123,606443,165415,947233,3036829,428442,124331,1309162,933516,341016,1126794,106867,804283,102000,572086,505823,5121325,629681,682318,126054,192619,2173310,1008966,179310,202645,2453350,989375,586353,449951,665104,815971,263420,988571,1318639,1871182,1020997,487793,1053873,154507,343678,189148,209040,1436206,261617,3346894,1134661,136244,1984942,592929,621314,2239164,213299,577507,136718,933521,2496071,322632,133592,1150517,993037,331001,1041066,79347,769044,122746,653288,475171,5119835,691848,735740,140355,158220,2546870,1080843,205012,256595,2341744,1006693,620258,583245,636614,927837,312788,966207,1571509,1989653,1120380,439838,1025935,179652,363467,203974,246166,1652361,273495,3649630,1225938,125050,2148222,582315,649641,2215819,233050,573339,150543,909146,2736167,361911,137894,1138350,1123323,327812,1071971,105388,941173,167398,781652,472940,5861203,883748,816015,180068,171923,2912790,1419720,205286,336937,2589026,1245836,638517,622332,872520,927871,319951,1144008,1616487,2170418,1168266,572844,1189924,240178,433862,301575,273559,1788850,286783,3942215,1631163,174852,2350363,744337,720342,2485967,249508,786892,190700,1061949,3799639,515096,149022,1437490,1247652,336475,1242987,147947,1176394,190889,1104294,572898,6745485,1101255,857488,200152,202970,3964522,1914254,231708,409235,2891550,1479438,751957,736456,1069439,1102169,396842,1334500,1803800,2479183,1445014,672660,1455713,266063,512814,418690,340511,1911430,376930,4180755,1961166,196651,2859764,959792,943163,2938095,259760,937974,232584,1384375,4526917,663742,184067,1716959,1510201,423778,1489504,167629,1266546,193841,1230111,638017,8274473,1288576,997772,255459,245800,4282074,2048759,325871,403012,3419348,1374039,828940,699655,1048462,1148275,421923,1629467,1904097,2872579,1573354,724597,1445814,242763,452979,533736,384826,2215422,472422,4645332,2142651,168601,2940044,960165,1037291,3276363,296571,1034896,203054,1479178,4479328,596030,219262,1959532,1750848,397466,1677211,164958,1255925,164676,1233654,647744,7854285,1323101,905083,242584,267070,4237756,2078688,306658,420911,3019512,1420543,822544,692634,1087190,1152262,401306,1677844,1921290,2564569,1546167,710746,1482440,267928,475064,531373,369561,2122786,415335,4324228,2270395,188320,2827621,891325,970488,2990274,279677,1071645,210610,1462330,4569843,740600,199239,1971820,1755396,417655,1620985,170962,1318255,163387,1252401,684872,8753788,1338870,897572,235603,282830,4617886,2089104,266891,409055,3090729,1557286,800983,671018,1202971,1178638,357735,1678006,1995196,2279543,1367705,700714,1594511,279240,495961,539260,348526,2148278,385234,4379789,2362631,216794,2841005,949136,1002106,2970733,252525,1155389,227721,1522925,4685047,515211,178573,1981473,1742718,489371,1405284,174419,1441170,189951,1672143,760647,11110250,1804352,1080831,296268,317323,5668731,2473633,366130,554119,3471915,1729519,897672,771406,1326646,1255776,435072,1985023,2382202,2804040,1717077,756764,1718736,343602,556846,703486,424921,2608335,501614,5230985,2758773,235595,3154834,1020280,1340383,3458229,307486,1385103,261043,1852475,5890347,865140,242820,2413568,2369612,545382,1630866,193559],["DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","REPUBLICAN","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT","DEMOCRAT"],[1,0,0,1,0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,0,1,1,0,1,1,1,0,0,0,0,0,0,1,1,0,1,0,0,1,1,1,0,1,1,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,0,1,0,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,0,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,0,0,1,0,0,0,1,1,1,1,1,1,0,1,1,0,1,0,1,0,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,0,1,0,1,1,1,0,0,1,0,0,1,0,1,1,1,0,0,0,1,1,1,0,1,1,1,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,0,1,0,0,1,1,1,1,1,0,0,1,0,1,1,1,0,0,1,0,0,1,0,1,1,1,0,1,1,1,1,0,1,0,0,0,1,1,0,1,0,1,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,1,1,1,1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,0,0,1,1,0,1,0,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,1,0,1,1,1,1,0,0,0,1,1,1,1,1,0,1,0,1,0,1,0,0,0,0,1,1,1,1,1,1,0,1,0,1,1,1,0,0,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,1,0,1,1,1,0,0,0,0,0,1,1,1,0,1,0,0,0,0,0,1,1,1,1,1,1,0,1,0,1,0,1,0,0,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,0,0,1,0,1,1,1,0,0,0,0,0,1,1,1,0,1,0,1,1,1,1,0,0,0,0,0,1,1,0,1,0,1,1,1,1,1,0,0,0,1,0,1,1,1,1,0,0,0,0,0,1,1,1,1,0,1,0,1,1,1,1,1,0,0,0,1,1,1,0,0,1,0,1,1,1,1,1,0,1,1,0,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,1,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>state<\/th>\n      <th>party_simplified<\/th>\n      <th>votes<\/th>\n      <th>winner_party<\/th>\n      <th>match_national<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,4,6]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"year","targets":1},{"name":"state","targets":2},{"name":"party_simplified","targets":3},{"name":"votes","targets":4},{"name":"winner_party","targets":5},{"name":"match_national","targets":6}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PresidentialDashboardProject_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> Since 1976, Ohio Pennslyvania, Nevada, and Florida have aligned with the winners of the general election the most. Interestingly enough, states like Tennessee, New Mexico, Missouri, Louisiana, Kentucky, and Delaware also have matched with the national winner, even though these states are not considered swing states today. If we are to use data since 1976, seeing how these states vote in a given election should give us a good idea as to who won the election.</p>
</section>
<section id="most-competitive-states" class="level3">
<h3 class="anchored" data-anchor-id="most-competitive-states">Most Competitive States</h3>
<p>To determine which states are the most competitive, we are going to have to generate a column that subtracts the differences between the matchups in each state within each year and extracts a margin in both raw votes and as a percentage.</p>
<p><br> <strong>Most Competitive by raw margins</strong> <br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PresidentialDashboardProject_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> By raw margins, the states of Nevada, Delaware, New Hampshire seem to be consistent in how much their states are consistently close when it comes to Presidential elections. This is raw votes. <br></p>
<p><strong>The benefits of targeting these kind of states are:</strong></p>
<p><em>1)</em> Being able to flip the state while targeting fewer voters.</p>
<p><em>2)</em> Because these states are smaller, they are generally less crowded with national media attention than the bigger states.</p>
<p><strong>Some of the negatives of targeting these states include:</strong></p>
<p><em>1)</em> Fewer electoral votes, because these states are smaller in populations</p>
<p><em>2)</em> Volatility in that small states can swing fast due to miniscule demographic shifts, third-party influence, or localized issues</p>
<p><em>3)</em> Targeting these states as a main strategy lowers your ROI, because a marginal win in these smaller states is done at the expense of losing a much larger and influential swing state with more electoral votes.</p>
<p><br> <strong><em>Most Competitive States by Percentage Margins</em></strong> <br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PresidentialDashboardProject_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> Nevada yet again, comes out on top with being the most competitive state, this time by percentage margin. All of these states have electoral college votes of 7 or more, and 5 of the 7 modern day swing states are on this top 10 list, showing that since at least 1976, they have consistently been among the most competitive states.</p>
<p><strong>Some of the benefits of targeting these kinds of states in Presidential Elections include:</strong></p>
<p><em>1)</em> Scalable impact because even small changes in overall persuasion can shift the outcome.</p>
<p><em>2)</em> Cost-effective, because of a higher ROI. More money spent but with the benefit of a higher electoral vote count.</p>
<p><em>3)</em> Electoral College Weight, because these states have more electoral votes than smaller states.</p>
<p><strong>Some of the negatives of targeting these states would be:</strong></p>
<p><em>1)</em> More raw vote totals needed, so even if you might get a higher electoral vote count, you do it at the expense of more money invested.</p>
<p><em>2)</em> The nature of these states being this close and because of their total electoral counts means more attention from both parties, which means voters become inundated with nonstop media coverage, ads, and canvassers, causing potential voter fatigue.</p>
</section>
<section id="least-competitive-states" class="level3">
<h3 class="anchored" data-anchor-id="least-competitive-states">Least Competitive States</h3>
<p>For this section, we are just going to look at the inverse of the most competitive states.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PresidentialDashboardProject_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> By raw votes, New York, California, and Texas are the least competitive states. Not surprising, because what do they have in common? The top 3 least competitive states are in the top 4 of population in the United States. This is why looking at the margins by percentage is just as, if not more important, because context matters.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PresidentialDashboardProject_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> Not a surprise, the District of Columbia is the least competitive set of electoral votes in the country, at least since 1976. Wyoming, Utah, Idaho, and Oklahoma also seem to be states that are not typically competitive and are reliable to vote in a single direction.</p>
<!-- -->

</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "US Presidential Election Results (1976 - 2020)"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="an">runtime:</span><span class="co"> shiny</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: true</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> </span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">  markdown: </span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">    wrap: 72</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">## Dashboard {.tabset .tabset-pills .nav-stacked}</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="in">library(shiny)</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="in">library(plotly)</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="in">library(pander)</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="fu">### General Interactive Map</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = FALSE}</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="in">#| panel: sidebar</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="in">sliderInput("year", "Select Election Year:",</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="in">            min = 1976, max = 2020,</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="in">            value = 2020, step = 4, sep = "")</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = FALSE, warning = FALSE, message = FALSE}</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="in">#| context: server</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="in">library(shiny)</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="in">library(plotly)</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="in">library(maps)</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="in"># Load US map and data</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="in">us_map &lt;- map_data("state")</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="in">decadesdata &lt;- read_csv("C:/Users/micha/OneDrive/Data Wrangling &amp; Visualization/Week 9/Task Data Search/1976-2020-president.csv")</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="in">election_winners &lt;- tribble(</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="in">  ~year, ~winner, ~matchup,</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="in">  1976, "CARTER, JIMMY (DEMOCRAT)", "CARTER, JIMMY vs. FORD, GERALD",</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="in">  1980, "REAGAN, RONALD (REPUBLICAN)", "REAGAN, RONALD vs. CARTER, JIMMY",</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="in">  1984, "REAGAN, RONALD (REPUBLICAN)", "REAGAN, RONALD vs. MONDALE, WALTER",</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="in">  1988, "BUSH, GEORGE H. W. (REPUBLICAN)", "BUSH, GEORGE H. W. vs. DUKAKIS, MICHAEL",</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="in">  1992, "CLINTON, BILL (DEMOCRAT)", "CLINTON, BILL vs. BUSH, GEORGE H. W.",</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="in">  1996, "CLINTON, BILL (DEMOCRAT)", "CLINTON, BILL vs. DOLE, BOB",</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a><span class="in">  2000, "BUSH, GEORGE W. (REPUBLICAN)", "BUSH, GEORGE W. vs. GORE, AL",</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="in">  2004, "BUSH, GEORGE W. (REPUBLICAN)", "BUSH, GEORGE W. vs. KERRY, JOHN",</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a><span class="in">  2008, "OBAMA, BARACK (DEMOCRAT)", "OBAMA, BARACK vs. MCCAIN, JOHN",</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="in">  2012, "OBAMA, BARACK (DEMOCRAT)", "OBAMA, BARACK vs. ROMNEY, MITT",</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="in">  2016, "TRUMP, DONALD J. (REPUBLICAN)", "CLINTON, HILLARY vs. TRUMP, DONALD J.",</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a><span class="in">  2020, "BIDEN, JOSEPH R. (DEMOCRAT)", "BIDEN, JOSEPH R. vs. TRUMP, DONALD J."</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="in"># Define color scale</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="in">rating_colors_shaded &lt;- c(</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="in">  "Safe DEMOCRAT" = "#244999",</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a><span class="in">  "Likely DEMOCRAT" = "#577CCC",</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a><span class="in">  "Lean DEMOCRAT" = "#8AAFFF",</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="in">  "Tilt DEMOCRAT" = "#949BB3",</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="in">  "Safe REPUBLICAN" = "#D22532",</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a><span class="in">  "Likely REPUBLICAN" = "#FF5865",</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a><span class="in">  "Lean REPUBLICAN" = "#FF8B98",</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a><span class="in">  "Tilt REPUBLICAN" = "#CF8980",</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a><span class="in">  "Missing" = "#D3D3D3"</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to process election data</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a><span class="in">process_year &lt;- function(yr, data) {</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a><span class="in">  results &lt;- data %&gt;%</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a><span class="in">    filter(year == yr, party_simplified %in% c("DEMOCRAT", "REPUBLICAN")) %&gt;%</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a><span class="in">    group_by(state, party_simplified) %&gt;%</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a><span class="in">    summarise(votes = sum(candidatevotes), .groups = "drop") %&gt;%</span></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a><span class="in">    pivot_wider(names_from = party_simplified, values_from = votes, values_fill = 0) %&gt;%</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a><span class="in">      total_votes = DEMOCRAT + REPUBLICAN,</span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a><span class="in">      margin = abs(DEMOCRAT - REPUBLICAN) / total_votes,</span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a><span class="in">      winner = if_else(REPUBLICAN &gt; DEMOCRAT, "REPUBLICAN", "DEMOCRAT"),</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a><span class="in">      margin_label = case_when(</span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a><span class="in">        margin &gt;= 0.15 ~ "Safe",</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a><span class="in">        margin &gt;= 0.10 ~ "Likely",</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="in">        margin &gt;= 0.05 ~ "Lean",</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "Tilt"</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a><span class="in">      ),</span></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a><span class="in">      rating_category = paste(margin_label, winner),</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a><span class="in">      rating_category = ifelse(rating_category %in% names(rating_colors_shaded), rating_category, "Missing"),</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a><span class="in">      fill_color = as.character(rating_colors_shaded[rating_category]),</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a><span class="in">      tooltip = paste0(</span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a><span class="in">        toupper(state), "&lt;br&gt;",</span></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a><span class="in">        "Democrat: ", formatC(DEMOCRAT, format = "d", big.mark = ","), "&lt;br&gt;",</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a><span class="in">        "Republican: ", formatC(REPUBLICAN, format = "d", big.mark = ","), "&lt;br&gt;",</span></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a><span class="in">        "Winner: ", winner, "&lt;br&gt;",</span></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a><span class="in">        "Margin: ", scales::percent(margin)</span></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a><span class="in">      ),</span></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a><span class="in">      region = tolower(state)</span></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- left_join(us_map, results, by = "region") %&gt;%</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a><span class="in">    filter(!is.na(tooltip)) %&gt;%  # 🚨 This removes stray polygon ghosts</span></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a><span class="in">    group_by(region) %&gt;%</span></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a><span class="in">    tidyr::fill(tooltip, fill_color, .direction = "downup") %&gt;%</span></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a><span class="in">    ungroup()</span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- df %&gt;%</span></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a><span class="in">      tooltip = ifelse(is.na(tooltip), paste0(toupper(region), "&lt;br&gt;No data"), tooltip),</span></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a><span class="in">      fill_color = ifelse(is.na(fill_color), "#D3D3D3", fill_color)</span></span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a><span class="in">  return(df)</span></span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a><span class="in">```{r election_map, echo = FALSE}</span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a><span class="in"># Plotly render</span></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a><span class="in">renderPlotly({</span></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a><span class="in">  year_selected &lt;- as.numeric(input$year)</span></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- process_year(year_selected, decadesdata)</span></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a><span class="in">   # 1. State-level winners</span></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a><span class="in"> state_winners &lt;- decadesdata %&gt;%</span></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(year == year_selected, party_simplified %in% c("DEMOCRAT", "REPUBLICAN")) %&gt;%</span></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state, candidate, party_simplified) %&gt;%</span></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(votes = sum(candidatevotes), .groups = "drop") %&gt;%</span></span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a><span class="in">  slice_max(order_by = votes, n = 1, with_ties = FALSE) %&gt;%</span></span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(state, .keep_all = TRUE) %&gt;%  </span></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(year = year_selected)</span></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a><span class="in">title_data &lt;- election_winners %&gt;% filter(year == year_selected)</span></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a><span class="in">title_text &lt;- paste0(</span></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a><span class="in">  "Election Results - ", year_selected</span></span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a><span class="in"># Plot</span></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a><span class="in">plot_ly(</span></span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a><span class="in">  data = df,</span></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a><span class="in">  type = "scatter",</span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a><span class="in">  mode = "none",</span></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a><span class="in">  x = ~long,</span></span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a><span class="in">  y = ~lat,</span></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a><span class="in">  split = ~group,</span></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a><span class="in">  fill = "toself",</span></span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a><span class="in">  fillcolor = ~fill_color,</span></span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a><span class="in">  text = ~tooltip,</span></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a><span class="in">  hoveron = "fills",</span></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a><span class="in">  hoverinfo = "text",</span></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a><span class="in">  hoverlabel = list(</span></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a><span class="in">    font = list(size = 20, color = "white")</span></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a><span class="in">  ),</span></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a><span class="in">  line = list(color = "black", width = 0.5),</span></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a><span class="in">  showlegend = FALSE</span></span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a><span class="in">) %&gt;%</span></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a><span class="in">  layout(</span></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a><span class="in">    title = list(</span></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a><span class="in">      text = title_text,</span></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a><span class="in">      x = 0.5,</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a><span class="in">      xanchor = "center",</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a><span class="in">      font = list(size = 15)</span></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a><span class="in">    ),</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a><span class="in">    xaxis = list(visible = FALSE),</span></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a><span class="in">    yaxis = list(visible = FALSE, scaleanchor = "x")</span></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a>This interactive map visualizes U.S. presidential election outcomes from</span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a>1976 to 2020. Use the slider to select a year and view which party won</span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a>each state. Color intensity indicates the margin of victory: darker</span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a>shades represent decisive wins, while lighter shades highlight more</span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a>competitive races. Hover over states for vote counts, margins, and party</span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a>breakdowns.</span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a>*States are shaded by party and competitiveness — darker = larger</span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a>margin, lighter = tighter race. Use the slider to explore results year</span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a>by year.*</span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a><span class="fu">### Bellwether States Analysis</span></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a>&lt;br&gt; First, we are going to have to determine who won the Presidential</span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a>Election every year from 1976 to 2020. This is only 12 elections, so</span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a>there are minimal amounts of joins. &lt;br&gt;</span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = FALSE}</span></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a><span class="in">election_winners &lt;- tribble(</span></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a><span class="in">  ~year, ~winner_party,</span></span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a><span class="in">  1976, "DEMOCRAT",</span></span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a><span class="in">  1980, "REPUBLICAN",</span></span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a><span class="in">  1984, "REPUBLICAN",</span></span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a><span class="in">  1988, "REPUBLICAN",</span></span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a><span class="in">  1992, "DEMOCRAT",</span></span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a><span class="in">  1996, "DEMOCRAT",</span></span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a><span class="in">  2000, "REPUBLICAN",</span></span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a><span class="in">  2004, "REPUBLICAN",</span></span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a><span class="in">  2008, "DEMOCRAT",</span></span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a><span class="in">  2012, "DEMOCRAT",</span></span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a><span class="in">  2016, "REPUBLICAN",</span></span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a><span class="in">  2020, "DEMOCRAT"</span></span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a><span class="in">state_results &lt;- decadesdata %&gt;%</span></span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(party_simplified %in% c("DEMOCRAT", "REPUBLICAN")) %&gt;%</span></span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(year, state, party_simplified) %&gt;%</span></span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(votes = sum(candidatevotes), .groups = "drop") %&gt;%</span></span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(year, state) %&gt;%</span></span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a><span class="in">  slice_max(order_by = votes, n = 1, with_ties = FALSE) %&gt;%</span></span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a><span class="in">  ungroup()</span></span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a><span class="in">bellwether_analysis &lt;- state_results %&gt;%</span></span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a><span class="in">  left_join(election_winners, by = "year") %&gt;%</span></span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true" tabindex="-1"></a><span class="in">    match_national = if_else(party_simplified == winner_party, 1, 0)</span></span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a><span class="in">DT::datatable(bellwether_analysis)</span></span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a><span class="in">bellwether_summary &lt;- bellwether_analysis %&gt;%</span></span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a><span class="in">    times_matched = sum(match_national),</span></span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a><span class="in">    total_elections = n(),</span></span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a><span class="in">    match_rate = round(100 * times_matched / total_elections, 1)</span></span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(desc(times_matched))</span></span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a><span class="in">bellwether_summary %&gt;%</span></span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a><span class="in">  top_n(10, times_matched) %&gt;%</span></span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = reorder(state, times_matched), y = times_matched, fill = state)) +</span></span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_bar(stat = "identity") +</span></span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a><span class="in">  coord_flip() +</span></span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(</span></span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a><span class="in">    title = "Top 15 Bellwether States (1976–2020)",</span></span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a><span class="in">    x = "State",</span></span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a><span class="in">    y = "Times Matched with National Winner"</span></span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a><span class="in">  ) +</span></span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(legend.position = "none")  </span></span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a>&lt;br&gt; Since 1976, Ohio Pennslyvania, Nevada, and Florida have aligned</span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a>with the winners of the general election the most. Interestingly enough,</span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a>states like Tennessee, New Mexico, Missouri, Louisiana, Kentucky, and</span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a>Delaware also have matched with the national winner, even though these</span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a>states are not considered swing states today. If we are to use data</span>
<span id="cb1-251"><a href="#cb1-251" aria-hidden="true" tabindex="-1"></a>since 1976, seeing how these states vote in a given election should give</span>
<span id="cb1-252"><a href="#cb1-252" aria-hidden="true" tabindex="-1"></a>us a good idea as to who won the election.</span>
<span id="cb1-253"><a href="#cb1-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-254"><a href="#cb1-254" aria-hidden="true" tabindex="-1"></a><span class="fu">### Most Competitive States</span></span>
<span id="cb1-255"><a href="#cb1-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-256"><a href="#cb1-256" aria-hidden="true" tabindex="-1"></a>To determine which states are the most competitive, we are going to have</span>
<span id="cb1-257"><a href="#cb1-257" aria-hidden="true" tabindex="-1"></a>to generate a column that subtracts the differences between the matchups</span>
<span id="cb1-258"><a href="#cb1-258" aria-hidden="true" tabindex="-1"></a>in each state within each year and extracts a margin in both raw votes</span>
<span id="cb1-259"><a href="#cb1-259" aria-hidden="true" tabindex="-1"></a>and as a percentage.</span>
<span id="cb1-260"><a href="#cb1-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-261"><a href="#cb1-261" aria-hidden="true" tabindex="-1"></a>&lt;br&gt; **Most Competitive by raw margins** &lt;br&gt;</span>
<span id="cb1-262"><a href="#cb1-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-263"><a href="#cb1-263" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, warning = FALSE, echo = FALSE}</span></span>
<span id="cb1-264"><a href="#cb1-264" aria-hidden="true" tabindex="-1"></a><span class="in">state_margins &lt;- decadesdata %&gt;%</span></span>
<span id="cb1-265"><a href="#cb1-265" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(party_simplified %in% c("DEMOCRAT", "REPUBLICAN")) %&gt;%</span></span>
<span id="cb1-266"><a href="#cb1-266" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(year, state, party_simplified) %&gt;%</span></span>
<span id="cb1-267"><a href="#cb1-267" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(votes = sum(candidatevotes), .groups = "drop") %&gt;%</span></span>
<span id="cb1-268"><a href="#cb1-268" aria-hidden="true" tabindex="-1"></a><span class="in">  pivot_wider(names_from = party_simplified, values_from = votes, values_fill = 0) %&gt;%</span></span>
<span id="cb1-269"><a href="#cb1-269" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb1-270"><a href="#cb1-270" aria-hidden="true" tabindex="-1"></a><span class="in">    total_votes = DEMOCRAT + REPUBLICAN,</span></span>
<span id="cb1-271"><a href="#cb1-271" aria-hidden="true" tabindex="-1"></a><span class="in">    abs_margin = abs(DEMOCRAT - REPUBLICAN),</span></span>
<span id="cb1-272"><a href="#cb1-272" aria-hidden="true" tabindex="-1"></a><span class="in">    pct_margin = abs_margin / total_votes * 100,</span></span>
<span id="cb1-273"><a href="#cb1-273" aria-hidden="true" tabindex="-1"></a><span class="in">    winner = if_else(REPUBLICAN &gt; DEMOCRAT, "REPUBLICAN", "DEMOCRAT")</span></span>
<span id="cb1-274"><a href="#cb1-274" aria-hidden="true" tabindex="-1"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-275"><a href="#cb1-275" aria-hidden="true" tabindex="-1"></a><span class="in">  select(year, state, winner, abs_margin, pct_margin)</span></span>
<span id="cb1-276"><a href="#cb1-276" aria-hidden="true" tabindex="-1"></a><span class="in">top10_abs &lt;- state_margins %&gt;%</span></span>
<span id="cb1-277"><a href="#cb1-277" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-278"><a href="#cb1-278" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(mean_abs_margin = mean(abs_margin, na.rm = TRUE)) %&gt;%</span></span>
<span id="cb1-279"><a href="#cb1-279" aria-hidden="true" tabindex="-1"></a><span class="in">  slice_min(mean_abs_margin, n = 10) %&gt;%</span></span>
<span id="cb1-280"><a href="#cb1-280" aria-hidden="true" tabindex="-1"></a><span class="in">  pull(state)</span></span>
<span id="cb1-281"><a href="#cb1-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-282"><a href="#cb1-282" aria-hidden="true" tabindex="-1"></a><span class="in">top10_abs_summary &lt;- state_margins %&gt;%</span></span>
<span id="cb1-283"><a href="#cb1-283" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-284"><a href="#cb1-284" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(mean_abs_margin = mean(abs_margin, na.rm = TRUE)) %&gt;%</span></span>
<span id="cb1-285"><a href="#cb1-285" aria-hidden="true" tabindex="-1"></a><span class="in">  slice_min(mean_abs_margin, n = 10)</span></span>
<span id="cb1-286"><a href="#cb1-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-287"><a href="#cb1-287" aria-hidden="true" tabindex="-1"></a><span class="in">top10_median_abs &lt;- state_margins %&gt;%</span></span>
<span id="cb1-288"><a href="#cb1-288" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-289"><a href="#cb1-289" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(median_abs_margin = median(abs_margin, na.rm = TRUE)) %&gt;%</span></span>
<span id="cb1-290"><a href="#cb1-290" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(median_abs_margin) %&gt;%</span></span>
<span id="cb1-291"><a href="#cb1-291" aria-hidden="true" tabindex="-1"></a><span class="in">  slice(1:10)</span></span>
<span id="cb1-292"><a href="#cb1-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-293"><a href="#cb1-293" aria-hidden="true" tabindex="-1"></a><span class="in">state_margins %&gt;%</span></span>
<span id="cb1-294"><a href="#cb1-294" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(state %in% top10_median_abs$state) %&gt;%</span></span>
<span id="cb1-295"><a href="#cb1-295" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(state = factor(state, levels = top10_median_abs$state)) %&gt;%</span></span>
<span id="cb1-296"><a href="#cb1-296" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = state, y = abs_margin, fill = state)) +</span></span>
<span id="cb1-297"><a href="#cb1-297" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_boxplot() +</span></span>
<span id="cb1-298"><a href="#cb1-298" aria-hidden="true" tabindex="-1"></a><span class="in">  coord_flip() +</span></span>
<span id="cb1-299"><a href="#cb1-299" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_brewer(palette = "Blues") +</span></span>
<span id="cb1-300"><a href="#cb1-300" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(</span></span>
<span id="cb1-301"><a href="#cb1-301" aria-hidden="true" tabindex="-1"></a><span class="in">    title = "Top 10 Most Competitive States (by Median Raw Margin)",</span></span>
<span id="cb1-302"><a href="#cb1-302" aria-hidden="true" tabindex="-1"></a><span class="in">    x = "State",</span></span>
<span id="cb1-303"><a href="#cb1-303" aria-hidden="true" tabindex="-1"></a><span class="in">    y = "Absolute Vote Margin"</span></span>
<span id="cb1-304"><a href="#cb1-304" aria-hidden="true" tabindex="-1"></a><span class="in">  ) +</span></span>
<span id="cb1-305"><a href="#cb1-305" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-306"><a href="#cb1-306" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(legend.position = "none")</span></span>
<span id="cb1-307"><a href="#cb1-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-308"><a href="#cb1-308" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-309"><a href="#cb1-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-310"><a href="#cb1-310" aria-hidden="true" tabindex="-1"></a>&lt;br&gt; By raw margins, the states of Nevada, Delaware, New Hampshire seem</span>
<span id="cb1-311"><a href="#cb1-311" aria-hidden="true" tabindex="-1"></a>to be consistent in how much their states are consistently close when it</span>
<span id="cb1-312"><a href="#cb1-312" aria-hidden="true" tabindex="-1"></a>comes to Presidential elections. This is raw votes. &lt;br&gt;</span>
<span id="cb1-313"><a href="#cb1-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-314"><a href="#cb1-314" aria-hidden="true" tabindex="-1"></a>**The benefits of targeting these kind of states are:**</span>
<span id="cb1-315"><a href="#cb1-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-316"><a href="#cb1-316" aria-hidden="true" tabindex="-1"></a>*1)* Being able to flip the state while targeting fewer voters.</span>
<span id="cb1-317"><a href="#cb1-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-318"><a href="#cb1-318" aria-hidden="true" tabindex="-1"></a>*2)* Because these states are smaller, they are generally less crowded</span>
<span id="cb1-319"><a href="#cb1-319" aria-hidden="true" tabindex="-1"></a>with national media attention than the bigger states.</span>
<span id="cb1-320"><a href="#cb1-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-321"><a href="#cb1-321" aria-hidden="true" tabindex="-1"></a>**Some of the negatives of targeting these states include:**</span>
<span id="cb1-322"><a href="#cb1-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-323"><a href="#cb1-323" aria-hidden="true" tabindex="-1"></a>*1)* Fewer electoral votes, because these states are smaller in</span>
<span id="cb1-324"><a href="#cb1-324" aria-hidden="true" tabindex="-1"></a>populations</span>
<span id="cb1-325"><a href="#cb1-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-326"><a href="#cb1-326" aria-hidden="true" tabindex="-1"></a>*2)* Volatility in that small states can swing fast due to miniscule</span>
<span id="cb1-327"><a href="#cb1-327" aria-hidden="true" tabindex="-1"></a>demographic shifts, third-party influence, or localized issues</span>
<span id="cb1-328"><a href="#cb1-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-329"><a href="#cb1-329" aria-hidden="true" tabindex="-1"></a>*3)* Targeting these states as a main strategy lowers your ROI, because</span>
<span id="cb1-330"><a href="#cb1-330" aria-hidden="true" tabindex="-1"></a>a marginal win in these smaller states is done at the expense of losing</span>
<span id="cb1-331"><a href="#cb1-331" aria-hidden="true" tabindex="-1"></a>a much larger and influential swing state with more electoral votes.</span>
<span id="cb1-332"><a href="#cb1-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-333"><a href="#cb1-333" aria-hidden="true" tabindex="-1"></a>&lt;br&gt; ***Most Competitive States by Percentage Margins*** &lt;br&gt;</span>
<span id="cb1-334"><a href="#cb1-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-335"><a href="#cb1-335" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, warning = FALSE, echo = FALSE}</span></span>
<span id="cb1-336"><a href="#cb1-336" aria-hidden="true" tabindex="-1"></a><span class="in">state_margins &lt;- decadesdata %&gt;%</span></span>
<span id="cb1-337"><a href="#cb1-337" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(party_simplified %in% c("DEMOCRAT", "REPUBLICAN")) %&gt;%</span></span>
<span id="cb1-338"><a href="#cb1-338" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(year, state, party_simplified) %&gt;%</span></span>
<span id="cb1-339"><a href="#cb1-339" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(votes = sum(candidatevotes), .groups = "drop") %&gt;%</span></span>
<span id="cb1-340"><a href="#cb1-340" aria-hidden="true" tabindex="-1"></a><span class="in">  pivot_wider(names_from = party_simplified, values_from = votes, values_fill = 0) %&gt;%</span></span>
<span id="cb1-341"><a href="#cb1-341" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb1-342"><a href="#cb1-342" aria-hidden="true" tabindex="-1"></a><span class="in">    total_votes = DEMOCRAT + REPUBLICAN,</span></span>
<span id="cb1-343"><a href="#cb1-343" aria-hidden="true" tabindex="-1"></a><span class="in">    abs_margin = abs(DEMOCRAT - REPUBLICAN),</span></span>
<span id="cb1-344"><a href="#cb1-344" aria-hidden="true" tabindex="-1"></a><span class="in">    pct_margin = abs_margin / total_votes * 100,</span></span>
<span id="cb1-345"><a href="#cb1-345" aria-hidden="true" tabindex="-1"></a><span class="in">    winner = if_else(REPUBLICAN &gt; DEMOCRAT, "REPUBLICAN", "DEMOCRAT")</span></span>
<span id="cb1-346"><a href="#cb1-346" aria-hidden="true" tabindex="-1"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-347"><a href="#cb1-347" aria-hidden="true" tabindex="-1"></a><span class="in">  select(year, state, winner, abs_margin, pct_margin)</span></span>
<span id="cb1-348"><a href="#cb1-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-349"><a href="#cb1-349" aria-hidden="true" tabindex="-1"></a><span class="in">top10_abs &lt;- state_margins %&gt;%</span></span>
<span id="cb1-350"><a href="#cb1-350" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-351"><a href="#cb1-351" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(mean_abs_margin = mean(abs_margin, na.rm = TRUE)) %&gt;%</span></span>
<span id="cb1-352"><a href="#cb1-352" aria-hidden="true" tabindex="-1"></a><span class="in">  slice_min(mean_abs_margin, n = 10) %&gt;%</span></span>
<span id="cb1-353"><a href="#cb1-353" aria-hidden="true" tabindex="-1"></a><span class="in">  pull(state)</span></span>
<span id="cb1-354"><a href="#cb1-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-355"><a href="#cb1-355" aria-hidden="true" tabindex="-1"></a><span class="in">top10_abs_summary &lt;- state_margins %&gt;%</span></span>
<span id="cb1-356"><a href="#cb1-356" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-357"><a href="#cb1-357" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(mean_abs_margin = mean(abs_margin, na.rm = TRUE)) %&gt;%</span></span>
<span id="cb1-358"><a href="#cb1-358" aria-hidden="true" tabindex="-1"></a><span class="in">  slice_min(mean_abs_margin, n = 10)</span></span>
<span id="cb1-359"><a href="#cb1-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-360"><a href="#cb1-360" aria-hidden="true" tabindex="-1"></a><span class="in">top10_median_pct &lt;- state_margins %&gt;%</span></span>
<span id="cb1-361"><a href="#cb1-361" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-362"><a href="#cb1-362" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(median_pct_margin = median(pct_margin, na.rm = TRUE)) %&gt;%</span></span>
<span id="cb1-363"><a href="#cb1-363" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(desc(median_pct_margin)) %&gt;%</span></span>
<span id="cb1-364"><a href="#cb1-364" aria-hidden="true" tabindex="-1"></a><span class="in">  slice(1:10)</span></span>
<span id="cb1-365"><a href="#cb1-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-366"><a href="#cb1-366" aria-hidden="true" tabindex="-1"></a><span class="in"># Plot</span></span>
<span id="cb1-367"><a href="#cb1-367" aria-hidden="true" tabindex="-1"></a><span class="in">state_margins %&gt;%</span></span>
<span id="cb1-368"><a href="#cb1-368" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(state %in% top10_median_pct$state) %&gt;%</span></span>
<span id="cb1-369"><a href="#cb1-369" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(state = factor(state, levels = top10_median_pct$state)) %&gt;%</span></span>
<span id="cb1-370"><a href="#cb1-370" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = state, y = pct_margin, fill = state)) +</span></span>
<span id="cb1-371"><a href="#cb1-371" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_boxplot() +</span></span>
<span id="cb1-372"><a href="#cb1-372" aria-hidden="true" tabindex="-1"></a><span class="in">  coord_flip() +</span></span>
<span id="cb1-373"><a href="#cb1-373" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_brewer(palette = "Reds") +</span></span>
<span id="cb1-374"><a href="#cb1-374" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(</span></span>
<span id="cb1-375"><a href="#cb1-375" aria-hidden="true" tabindex="-1"></a><span class="in">    title = "Top 10 Most Competitive States (by Median % Margin)",</span></span>
<span id="cb1-376"><a href="#cb1-376" aria-hidden="true" tabindex="-1"></a><span class="in">    x = "State",</span></span>
<span id="cb1-377"><a href="#cb1-377" aria-hidden="true" tabindex="-1"></a><span class="in">    y = "Margin (%)"</span></span>
<span id="cb1-378"><a href="#cb1-378" aria-hidden="true" tabindex="-1"></a><span class="in">  ) +</span></span>
<span id="cb1-379"><a href="#cb1-379" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-380"><a href="#cb1-380" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(legend.position = "none")</span></span>
<span id="cb1-381"><a href="#cb1-381" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-382"><a href="#cb1-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-383"><a href="#cb1-383" aria-hidden="true" tabindex="-1"></a>&lt;br&gt; Nevada yet again, comes out on top with being the most competitive</span>
<span id="cb1-384"><a href="#cb1-384" aria-hidden="true" tabindex="-1"></a>state, this time by percentage margin. All of these states have</span>
<span id="cb1-385"><a href="#cb1-385" aria-hidden="true" tabindex="-1"></a>electoral college votes of 7 or more, and 5 of the 7 modern day swing</span>
<span id="cb1-386"><a href="#cb1-386" aria-hidden="true" tabindex="-1"></a>states are on this top 10 list, showing that since at least 1976, they</span>
<span id="cb1-387"><a href="#cb1-387" aria-hidden="true" tabindex="-1"></a>have consistently been among the most competitive states.</span>
<span id="cb1-388"><a href="#cb1-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-389"><a href="#cb1-389" aria-hidden="true" tabindex="-1"></a>**Some of the benefits of targeting these kinds of states in</span>
<span id="cb1-390"><a href="#cb1-390" aria-hidden="true" tabindex="-1"></a>Presidential Elections include:**</span>
<span id="cb1-391"><a href="#cb1-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-392"><a href="#cb1-392" aria-hidden="true" tabindex="-1"></a>*1)* Scalable impact because even small changes in overall persuasion</span>
<span id="cb1-393"><a href="#cb1-393" aria-hidden="true" tabindex="-1"></a>can shift the outcome.</span>
<span id="cb1-394"><a href="#cb1-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-395"><a href="#cb1-395" aria-hidden="true" tabindex="-1"></a>*2)* Cost-effective, because of a higher ROI. More money spent but with</span>
<span id="cb1-396"><a href="#cb1-396" aria-hidden="true" tabindex="-1"></a>the benefit of a higher electoral vote count.</span>
<span id="cb1-397"><a href="#cb1-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-398"><a href="#cb1-398" aria-hidden="true" tabindex="-1"></a>*3)* Electoral College Weight, because these states have more electoral</span>
<span id="cb1-399"><a href="#cb1-399" aria-hidden="true" tabindex="-1"></a>votes than smaller states.</span>
<span id="cb1-400"><a href="#cb1-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-401"><a href="#cb1-401" aria-hidden="true" tabindex="-1"></a>**Some of the negatives of targeting these states would be:**</span>
<span id="cb1-402"><a href="#cb1-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-403"><a href="#cb1-403" aria-hidden="true" tabindex="-1"></a>*1)* More raw vote totals needed, so even if you might get a higher</span>
<span id="cb1-404"><a href="#cb1-404" aria-hidden="true" tabindex="-1"></a>electoral vote count, you do it at the expense of more money invested.</span>
<span id="cb1-405"><a href="#cb1-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-406"><a href="#cb1-406" aria-hidden="true" tabindex="-1"></a>*2)* The nature of these states being this close and because of their</span>
<span id="cb1-407"><a href="#cb1-407" aria-hidden="true" tabindex="-1"></a>total electoral counts means more attention from both parties, which</span>
<span id="cb1-408"><a href="#cb1-408" aria-hidden="true" tabindex="-1"></a>means voters become inundated with nonstop media coverage, ads, and</span>
<span id="cb1-409"><a href="#cb1-409" aria-hidden="true" tabindex="-1"></a>canvassers, causing potential voter fatigue.</span>
<span id="cb1-410"><a href="#cb1-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-411"><a href="#cb1-411" aria-hidden="true" tabindex="-1"></a><span class="fu">### Least Competitive States</span></span>
<span id="cb1-412"><a href="#cb1-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-413"><a href="#cb1-413" aria-hidden="true" tabindex="-1"></a>For this section, we are just going to look at the inverse of the most</span>
<span id="cb1-414"><a href="#cb1-414" aria-hidden="true" tabindex="-1"></a>competitive states.</span>
<span id="cb1-415"><a href="#cb1-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-416"><a href="#cb1-416" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, warning = FALSE, echo = FALSE}</span></span>
<span id="cb1-417"><a href="#cb1-417" aria-hidden="true" tabindex="-1"></a><span class="in">state_margins &lt;- decadesdata %&gt;%</span></span>
<span id="cb1-418"><a href="#cb1-418" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(party_simplified %in% c("DEMOCRAT", "REPUBLICAN")) %&gt;%</span></span>
<span id="cb1-419"><a href="#cb1-419" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(year, state, party_simplified) %&gt;%</span></span>
<span id="cb1-420"><a href="#cb1-420" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(votes = sum(candidatevotes), .groups = "drop") %&gt;%</span></span>
<span id="cb1-421"><a href="#cb1-421" aria-hidden="true" tabindex="-1"></a><span class="in">  pivot_wider(names_from = party_simplified, values_from = votes, values_fill = 0) %&gt;%</span></span>
<span id="cb1-422"><a href="#cb1-422" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb1-423"><a href="#cb1-423" aria-hidden="true" tabindex="-1"></a><span class="in">    total_votes = DEMOCRAT + REPUBLICAN,</span></span>
<span id="cb1-424"><a href="#cb1-424" aria-hidden="true" tabindex="-1"></a><span class="in">    abs_margin = abs(DEMOCRAT - REPUBLICAN),</span></span>
<span id="cb1-425"><a href="#cb1-425" aria-hidden="true" tabindex="-1"></a><span class="in">    pct_margin = abs_margin / total_votes * 100,</span></span>
<span id="cb1-426"><a href="#cb1-426" aria-hidden="true" tabindex="-1"></a><span class="in">    winner = if_else(REPUBLICAN &gt; DEMOCRAT, "REPUBLICAN", "DEMOCRAT")</span></span>
<span id="cb1-427"><a href="#cb1-427" aria-hidden="true" tabindex="-1"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-428"><a href="#cb1-428" aria-hidden="true" tabindex="-1"></a><span class="in">  select(year, state, winner, abs_margin, pct_margin)</span></span>
<span id="cb1-429"><a href="#cb1-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-430"><a href="#cb1-430" aria-hidden="true" tabindex="-1"></a><span class="in">top10_abs &lt;- state_margins %&gt;%</span></span>
<span id="cb1-431"><a href="#cb1-431" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-432"><a href="#cb1-432" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(mean_abs_margin = mean(abs_margin, na.rm = TRUE)) %&gt;%</span></span>
<span id="cb1-433"><a href="#cb1-433" aria-hidden="true" tabindex="-1"></a><span class="in">  slice_min(mean_abs_margin, n = 10) %&gt;%</span></span>
<span id="cb1-434"><a href="#cb1-434" aria-hidden="true" tabindex="-1"></a><span class="in">  pull(state)</span></span>
<span id="cb1-435"><a href="#cb1-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-436"><a href="#cb1-436" aria-hidden="true" tabindex="-1"></a><span class="in">top10_abs_summary &lt;- state_margins %&gt;%</span></span>
<span id="cb1-437"><a href="#cb1-437" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-438"><a href="#cb1-438" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(mean_abs_margin = mean(abs_margin, na.rm = TRUE)) %&gt;%</span></span>
<span id="cb1-439"><a href="#cb1-439" aria-hidden="true" tabindex="-1"></a><span class="in">  slice_min(mean_abs_margin, n = 10)</span></span>
<span id="cb1-440"><a href="#cb1-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-441"><a href="#cb1-441" aria-hidden="true" tabindex="-1"></a><span class="in">bottom10_median_abs &lt;- state_margins %&gt;%</span></span>
<span id="cb1-442"><a href="#cb1-442" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-443"><a href="#cb1-443" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(median_abs_margin = median(abs_margin, na.rm = TRUE)) %&gt;%</span></span>
<span id="cb1-444"><a href="#cb1-444" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(desc(median_abs_margin)) %&gt;%</span></span>
<span id="cb1-445"><a href="#cb1-445" aria-hidden="true" tabindex="-1"></a><span class="in">  slice(1:10)</span></span>
<span id="cb1-446"><a href="#cb1-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-447"><a href="#cb1-447" aria-hidden="true" tabindex="-1"></a><span class="in">state_margins %&gt;%</span></span>
<span id="cb1-448"><a href="#cb1-448" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(state %in% bottom10_median_abs$state) %&gt;%</span></span>
<span id="cb1-449"><a href="#cb1-449" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(state = factor(state, levels = rev(bottom10_median_abs$state))</span></span>
<span id="cb1-450"><a href="#cb1-450" aria-hidden="true" tabindex="-1"></a><span class="in">         )%&gt;%</span></span>
<span id="cb1-451"><a href="#cb1-451" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = state, y = abs_margin, fill = state)) +</span></span>
<span id="cb1-452"><a href="#cb1-452" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_boxplot() +</span></span>
<span id="cb1-453"><a href="#cb1-453" aria-hidden="true" tabindex="-1"></a><span class="in">  coord_flip() +</span></span>
<span id="cb1-454"><a href="#cb1-454" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_brewer(palette = "Blues") +</span></span>
<span id="cb1-455"><a href="#cb1-455" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(labels = scales::comma) +</span></span>
<span id="cb1-456"><a href="#cb1-456" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(</span></span>
<span id="cb1-457"><a href="#cb1-457" aria-hidden="true" tabindex="-1"></a><span class="in">    title = "Top 10 Least Competitive States (by Median Raw Margin)",</span></span>
<span id="cb1-458"><a href="#cb1-458" aria-hidden="true" tabindex="-1"></a><span class="in">    x = "State",</span></span>
<span id="cb1-459"><a href="#cb1-459" aria-hidden="true" tabindex="-1"></a><span class="in">    y = "Absolute Vote Margin"</span></span>
<span id="cb1-460"><a href="#cb1-460" aria-hidden="true" tabindex="-1"></a><span class="in">  ) +</span></span>
<span id="cb1-461"><a href="#cb1-461" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-462"><a href="#cb1-462" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(legend.position = "none")</span></span>
<span id="cb1-463"><a href="#cb1-463" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-464"><a href="#cb1-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-465"><a href="#cb1-465" aria-hidden="true" tabindex="-1"></a>&lt;br&gt; By raw votes, New York, California, and Texas are the least</span>
<span id="cb1-466"><a href="#cb1-466" aria-hidden="true" tabindex="-1"></a>competitive states. Not surprising, because what do they have in common?</span>
<span id="cb1-467"><a href="#cb1-467" aria-hidden="true" tabindex="-1"></a>The top 3 least competitive states are in the top 4 of population in the</span>
<span id="cb1-468"><a href="#cb1-468" aria-hidden="true" tabindex="-1"></a>United States. This is why looking at the margins by percentage is just</span>
<span id="cb1-469"><a href="#cb1-469" aria-hidden="true" tabindex="-1"></a>as, if not more important, because context matters.</span>
<span id="cb1-470"><a href="#cb1-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-471"><a href="#cb1-471" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, warning = FALSE, echo = FALSE}</span></span>
<span id="cb1-472"><a href="#cb1-472" aria-hidden="true" tabindex="-1"></a><span class="in">state_margins &lt;- decadesdata %&gt;%</span></span>
<span id="cb1-473"><a href="#cb1-473" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(party_simplified %in% c("DEMOCRAT", "REPUBLICAN")) %&gt;%</span></span>
<span id="cb1-474"><a href="#cb1-474" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(year, state, party_simplified) %&gt;%</span></span>
<span id="cb1-475"><a href="#cb1-475" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(votes = sum(candidatevotes), .groups = "drop") %&gt;%</span></span>
<span id="cb1-476"><a href="#cb1-476" aria-hidden="true" tabindex="-1"></a><span class="in">  pivot_wider(names_from = party_simplified, values_from = votes, values_fill = 0) %&gt;%</span></span>
<span id="cb1-477"><a href="#cb1-477" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb1-478"><a href="#cb1-478" aria-hidden="true" tabindex="-1"></a><span class="in">    total_votes = DEMOCRAT + REPUBLICAN,</span></span>
<span id="cb1-479"><a href="#cb1-479" aria-hidden="true" tabindex="-1"></a><span class="in">    abs_margin = abs(DEMOCRAT - REPUBLICAN),</span></span>
<span id="cb1-480"><a href="#cb1-480" aria-hidden="true" tabindex="-1"></a><span class="in">    pct_margin = abs_margin / total_votes * 100,</span></span>
<span id="cb1-481"><a href="#cb1-481" aria-hidden="true" tabindex="-1"></a><span class="in">    winner = if_else(REPUBLICAN &gt; DEMOCRAT, "REPUBLICAN", "DEMOCRAT")</span></span>
<span id="cb1-482"><a href="#cb1-482" aria-hidden="true" tabindex="-1"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-483"><a href="#cb1-483" aria-hidden="true" tabindex="-1"></a><span class="in">  select(year, state, winner, abs_margin, pct_margin)</span></span>
<span id="cb1-484"><a href="#cb1-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-485"><a href="#cb1-485" aria-hidden="true" tabindex="-1"></a><span class="in">bottom10_median_pct &lt;- state_margins %&gt;%</span></span>
<span id="cb1-486"><a href="#cb1-486" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(state) %&gt;%</span></span>
<span id="cb1-487"><a href="#cb1-487" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(median_abs_margin_pct = median(pct_margin), na.rm = TRUE) %&gt;%</span></span>
<span id="cb1-488"><a href="#cb1-488" aria-hidden="true" tabindex="-1"></a><span class="in">  arrange(desc(median_abs_margin_pct)) %&gt;%</span></span>
<span id="cb1-489"><a href="#cb1-489" aria-hidden="true" tabindex="-1"></a><span class="in">  slice(1:10)</span></span>
<span id="cb1-490"><a href="#cb1-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-491"><a href="#cb1-491" aria-hidden="true" tabindex="-1"></a><span class="in">state_margins %&gt;%</span></span>
<span id="cb1-492"><a href="#cb1-492" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(state %in% bottom10_median_pct$state) %&gt;%</span></span>
<span id="cb1-493"><a href="#cb1-493" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(state = factor(state, levels = rev(bottom10_median_pct$state))) %&gt;%</span></span>
<span id="cb1-494"><a href="#cb1-494" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = state, y = pct_margin, fill = state)) +</span></span>
<span id="cb1-495"><a href="#cb1-495" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_boxplot() +</span></span>
<span id="cb1-496"><a href="#cb1-496" aria-hidden="true" tabindex="-1"></a><span class="in">  coord_flip() +</span></span>
<span id="cb1-497"><a href="#cb1-497" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_brewer(palette = "Reds") +</span></span>
<span id="cb1-498"><a href="#cb1-498" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(labels = function(x) paste0(x, "%")) +</span></span>
<span id="cb1-499"><a href="#cb1-499" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(</span></span>
<span id="cb1-500"><a href="#cb1-500" aria-hidden="true" tabindex="-1"></a><span class="in">    title = "Bottom 10 Least Competitive States (by Median Percentage Margin)",</span></span>
<span id="cb1-501"><a href="#cb1-501" aria-hidden="true" tabindex="-1"></a><span class="in">    x = "State",</span></span>
<span id="cb1-502"><a href="#cb1-502" aria-hidden="true" tabindex="-1"></a><span class="in">    y = "Vote Margin (%)"</span></span>
<span id="cb1-503"><a href="#cb1-503" aria-hidden="true" tabindex="-1"></a><span class="in">  ) +</span></span>
<span id="cb1-504"><a href="#cb1-504" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-505"><a href="#cb1-505" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(legend.position = "none")</span></span>
<span id="cb1-506"><a href="#cb1-506" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-507"><a href="#cb1-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-508"><a href="#cb1-508" aria-hidden="true" tabindex="-1"></a>&lt;br&gt; Not a surprise, the District of Columbia is the least competitive</span>
<span id="cb1-509"><a href="#cb1-509" aria-hidden="true" tabindex="-1"></a>set of electoral votes in the country, at least since 1976. Wyoming,</span>
<span id="cb1-510"><a href="#cb1-510" aria-hidden="true" tabindex="-1"></a>Utah, Idaho, and Oklahoma also seem to be states that are not typically</span>
<span id="cb1-511"><a href="#cb1-511" aria-hidden="true" tabindex="-1"></a>competitive and are reliable to vote in a single direction.</span></code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>